{"ast":null,"code":"import Layout from\"./Layout\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Detail=()=>{const{arg}=useParams();const[news,setNews]=useState({});const[themes,setThemes]=useState([]);useEffect(()=>{fetch(\"http://127.0.0.1:8000/api/themes/\").then(response=>response.json()).then(async data=>{setThemes(data);const response=await fetch(\"http://127.0.0.1:8000/api/\".concat(arg,\"/\"));const data_1=await response.json();setNews(data_1);});},[arg]);// Форматирование даты\nconst formatDate=date=>{let months=[\"января\",\"февраля\",\"марта\",\"апреля\",\"мая\",\"июня\",\"июля\",\"августа\",\"сентября\",\"октября\",\"ноября\",\"декабря\"];let today=new Date(date);let day=today.getDate();let month=months[today.getMonth()];let year=today.getFullYear();let minutes=today.getMinutes();let hours=today.getHours();return\"\".concat(hours,\":\").concat(minutes,\". \").concat(day,\" \").concat(month);};const themeList=Object.values(themes);const formattedDate=formatDate(news.date);// Здесь news.date предполагается как строка даты\nreturn/*#__PURE__*/_jsx(Layout,{themes:themeList,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:news.title}),/*#__PURE__*/_jsx(\"h3\",{children:themes[news.theme]}),/*#__PURE__*/_jsx(\"h4\",{children:formattedDate}),/*#__PURE__*/_jsx(\"h2\",{children:news.article_text})]})});};export default Detail;","map":{"version":3,"names":["Layout","React","useState","useEffect","useParams","jsx","_jsx","jsxs","_jsxs","Detail","arg","news","setNews","themes","setThemes","fetch","then","response","json","data","concat","data_1","formatDate","date","months","today","Date","day","getDate","month","getMonth","year","getFullYear","minutes","getMinutes","hours","getHours","themeList","Object","values","formattedDate","children","title","theme","article_text"],"sources":["/home/donkol/Документы/Программирование/программы на python/djanga/KosmoNews/kosmonews_react/src/Detail.js"],"sourcesContent":["import Layout from \"./Layout\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nconst Detail = () => {\n  const { arg } = useParams();\n\n  const [news, setNews] = useState({});\n  const [themes, setThemes] = useState([]);\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:8000/api/themes/\")\n      .then((response) => response.json())\n      .then(async (data) => {\n        setThemes(data);\n        const response = await fetch(`http://127.0.0.1:8000/api/${arg}/`);\n        const data_1 = await response.json();\n        setNews(data_1);\n      });\n  }, [arg]);\n\n  // Форматирование даты\n  const formatDate = (date) => {\n    let months = [\n      \"января\",\n      \"февраля\",\n      \"марта\",\n      \"апреля\",\n      \"мая\",\n      \"июня\",\n      \"июля\",\n      \"августа\",\n      \"сентября\",\n      \"октября\",\n      \"ноября\",\n      \"декабря\",\n    ];\n\n    let today = new Date(date);\n    let day = today.getDate();\n    let month = months[today.getMonth()];\n    let year = today.getFullYear();\n    let minutes = today.getMinutes();\n    let hours = today.getHours();\n\n    return `${hours}:${minutes}. ${day} ${month}`;\n  };\n\n  const themeList = Object.values(themes);\n  const formattedDate = formatDate(news.date); // Здесь news.date предполагается как строка даты\n\n  return (\n    <Layout themes={themeList}>\n      <div>\n        <h1>{news.title}</h1>\n        <h3>{themes[news.theme]}</h3>\n        <h4>{formattedDate}</h4>\n        <h2>{news.article_text}</h2>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Detail;\n"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAEC,GAAI,CAAC,CAAGN,SAAS,CAAC,CAAC,CAE3B,KAAM,CAACO,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CAAC,CACpC,KAAM,CAACW,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACxCC,SAAS,CAAC,IAAM,CACdY,KAAK,CAAC,mCAAmC,CAAC,CACvCC,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAC,KAAO,CAAAG,IAAI,EAAK,CACpBL,SAAS,CAACK,IAAI,CAAC,CACf,KAAM,CAAAF,QAAQ,CAAG,KAAM,CAAAF,KAAK,8BAAAK,MAAA,CAA8BV,GAAG,KAAG,CAAC,CACjE,KAAM,CAAAW,MAAM,CAAG,KAAM,CAAAJ,QAAQ,CAACC,IAAI,CAAC,CAAC,CACpCN,OAAO,CAACS,MAAM,CAAC,CACjB,CAAC,CAAC,CACN,CAAC,CAAE,CAACX,GAAG,CAAC,CAAC,CAET;AACA,KAAM,CAAAY,UAAU,CAAIC,IAAI,EAAK,CAC3B,GAAI,CAAAC,MAAM,CAAG,CACX,QAAQ,CACR,SAAS,CACT,OAAO,CACP,QAAQ,CACR,KAAK,CACL,MAAM,CACN,MAAM,CACN,SAAS,CACT,UAAU,CACV,SAAS,CACT,QAAQ,CACR,SAAS,CACV,CAED,GAAI,CAAAC,KAAK,CAAG,GAAI,CAAAC,IAAI,CAACH,IAAI,CAAC,CAC1B,GAAI,CAAAI,GAAG,CAAGF,KAAK,CAACG,OAAO,CAAC,CAAC,CACzB,GAAI,CAAAC,KAAK,CAAGL,MAAM,CAACC,KAAK,CAACK,QAAQ,CAAC,CAAC,CAAC,CACpC,GAAI,CAAAC,IAAI,CAAGN,KAAK,CAACO,WAAW,CAAC,CAAC,CAC9B,GAAI,CAAAC,OAAO,CAAGR,KAAK,CAACS,UAAU,CAAC,CAAC,CAChC,GAAI,CAAAC,KAAK,CAAGV,KAAK,CAACW,QAAQ,CAAC,CAAC,CAE5B,SAAAhB,MAAA,CAAUe,KAAK,MAAAf,MAAA,CAAIa,OAAO,OAAAb,MAAA,CAAKO,GAAG,MAAAP,MAAA,CAAIS,KAAK,EAC7C,CAAC,CAED,KAAM,CAAAQ,SAAS,CAAGC,MAAM,CAACC,MAAM,CAAC1B,MAAM,CAAC,CACvC,KAAM,CAAA2B,aAAa,CAAGlB,UAAU,CAACX,IAAI,CAACY,IAAI,CAAC,CAAE;AAE7C,mBACEjB,IAAA,CAACN,MAAM,EAACa,MAAM,CAAEwB,SAAU,CAAAI,QAAA,cACxBjC,KAAA,QAAAiC,QAAA,eACEnC,IAAA,OAAAmC,QAAA,CAAK9B,IAAI,CAAC+B,KAAK,CAAK,CAAC,cACrBpC,IAAA,OAAAmC,QAAA,CAAK5B,MAAM,CAACF,IAAI,CAACgC,KAAK,CAAC,CAAK,CAAC,cAC7BrC,IAAA,OAAAmC,QAAA,CAAKD,aAAa,CAAK,CAAC,cACxBlC,IAAA,OAAAmC,QAAA,CAAK9B,IAAI,CAACiC,YAAY,CAAK,CAAC,EACzB,CAAC,CACA,CAAC,CAEb,CAAC,CAED,cAAe,CAAAnC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}