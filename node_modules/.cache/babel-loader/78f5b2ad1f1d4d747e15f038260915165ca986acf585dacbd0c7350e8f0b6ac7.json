{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import CroppedImage from\"./Img\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SearchForm=()=>{const navigate=useNavigate();const[query,setQuery]=useState(\"\");const handleSearch=()=>{// onSearch(encodeURIComponent(query));\nnavigate(\"/search/\".concat(encodeURIComponent(query)));window.location.reload(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:query,onChange:e=>setQuery(e.target.value),placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"\\u041D\\u0430\\u0439\\u0442\\u0438\"})]});};const Layout=_ref=>{let{themes,children}=_ref;const[day,setDay]=useState(\"\");useEffect(()=>{fetch(\"/api/day/\")// fetch(\"http://localhost:8000/api/day/\")\n.then(response=>response.json()).then(data=>{setDay(data[0]);});},[children]);const news=day;const img=news.image;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\"})}),themes.map((item,index)=>/*#__PURE__*/_jsx(\"h2\",{className:item,children:/*#__PURE__*/_jsx(\"a\",{href:\"/\".concat(item.toString().split(\",\")[0]),children:item.toString().match(/\\d+(.*)$/)[1].replace(\",\",\"\")})},index)),/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"/aboutUs/\",children:\"\\u041E \\u043D\\u0430\\u0441\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/contact/\",children:\"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\"})]}),/*#__PURE__*/_jsx(SearchForm,{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"/\"+day.id,children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u044C \\u0434\\u043D\\u044F - \",day.title]}),/*#__PURE__*/_jsx(CroppedImage,{src:img,width:200,height:200})]})}),children,/*#__PURE__*/_jsxs(\"footer\",{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/confidenc/\",children:\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u043E\\u0435 \\u0441\\u043E\\u0433\\u043B\\u0430\\u0448\\u0435\\u043D\\u0438\\u0435\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"2023 - KosmoNews\"})]})]});};export default Layout;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","CroppedImage","jsx","_jsx","jsxs","_jsxs","SearchForm","navigate","query","setQuery","handleSearch","concat","encodeURIComponent","window","location","reload","children","type","value","onChange","e","target","placeholder","onClick","Layout","_ref","themes","day","setDay","fetch","then","response","json","data","news","img","image","href","map","item","index","className","toString","split","match","replace","id","title","src","width","height"],"sources":["/home/donkol/Документы/Программирование/программы на python/djanga/KosmoNews/kosmonews_react/src/Layout.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport CroppedImage from \"./Img\";\n\nconst SearchForm = () => {\n  const navigate = useNavigate();\n  const [query, setQuery] = useState(\"\");\n  const handleSearch = () => {\n    // onSearch(encodeURIComponent(query));\n    navigate(`/search/${encodeURIComponent(query)}`);\n    window.location.reload(false);\n  };\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        value={query}\n        onChange={(e) => setQuery(e.target.value)}\n        placeholder=\"Введите запрос\"\n      />\n      <button onClick={handleSearch}>Найти</button>\n    </div>\n  );\n};\n\nconst Layout = ({ themes, children }) => {\n  const [day, setDay] = useState(\"\");\n  useEffect(() => {\n    fetch(\"/api/day/\")\n      // fetch(\"http://localhost:8000/api/day/\")\n      .then((response) => response.json())\n      .then((data) => {\n        setDay(data[0]);\n      });\n  }, [children]);\n  const news = day;\n  const img = news.image;\n\n  return (\n    <div>\n      <h1>\n        <a href=\"/\">Главная</a>\n      </h1>\n      {themes.map((item, index) => (\n        <h2 key={index} className={item}>\n          <a href={`/${item.toString().split(\",\")[0]}`}>\n            {item\n              .toString()\n              .match(/\\d+(.*)$/)[1]\n              .replace(\",\", \"\")}\n          </a>\n        </h2>\n      ))}\n      <h3>\n        <a href=\"/aboutUs/\">О нас</a>\n        <a href=\"/contact/\">Контакты</a>\n      </h3>\n      <SearchForm />\n      <div>\n        <a href={\"/\" + day.id}>\n          <h1>Новость дня - {day.title}</h1>\n          <CroppedImage src={img} width={200} height={200} />\n        </a>\n      </div>\n      {children}\n      <footer>\n        <p>\n          <a href=\"/confidenc/\">Пользовательское соглашение</a>\n        </p>\n        <h1>2023 - KosmoNews</h1>\n      </footer>\n    </div>\n  );\n};\n\nexport default Layout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}